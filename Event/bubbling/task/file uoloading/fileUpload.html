<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Uploading</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .hide {
            display: none;
        }

        .visible {
            display: inline-block;
        }

        span {
            font-weight: bold;
            color: red;
        }

    </style>
</head>

<body>


    <div class="container">


        <div class=" container mt-4 form-control w-50 p-5">
            <form action="" method="" id="myForm">
                <label for="name" class="">Name</label>
                <input type="text" class="form-control" name="name" id="name">

                <label for="email" class="">Email</label>
                <input type="email" class="form-control" name="email" id="email">

                <label for="username">Username</label>
                <input type="text" class="form-control" name="username" id="username">

                <label for="gender">Gender</label>
                <select name="gender" id="gender" class="form-control">
                    <option value="" disabled selected>Select Gender</option>
                    <option value="m">Male</option>
                    <option value="f">Female</option>
                    <option value="o">Other</option>
                </select>

                <label for="contactNumber">Contact Number</label>
                <input type="number" name="contactNo" id="contactNumber" class="form-control">

                <label for="image">Photograph</label>
                <input type="file" name="image" id="image">
                <span id="fileValidation" class="hide"></span>


                <button class="btn btn-success mt-4">Submit</button>


            </form>
        </div>

    </div>

    <script>

        let fileValidation = document.querySelector('#fileValidation')

        const Form = document.querySelector('#myForm');
        Form.addEventListener('submit', function (event) {
            event.preventDefault()

            const fd = new FormData(this)
            // console.log(fd);

            const user = Object.fromEntries(fd)
            // console.log(user);

            const fileControl = document.querySelector('#image');
            const file = fileControl.files[0];

            if (file) {
                fileValidation.className = 'none'
                console.log(file.type);

                if (file.type == "image/jpg" || file.type == "image/jpeg") {
                    console.log(file.name, 'file uploded');
                    fileValidation.className = 'none';
                    console.log(file.size);

                    if(file.size <= 1024){
                        fileValidation.className = 'visible'
                        fileValidation.innerHTML = 'file size too small'
                    }
                    else{
                        fileValidation.className = 'none'
                        // fileValidation.innerHTML = 'file is good to go'
                    }

                }
                else {
                    fileValidation.className = 'visible';
                    fileValidation.innerHTML = 'file type not supported'
                }
            }
            else {
                fileValidation.className = 'visible'
                fileValidation.innerHTML = 'please select a file'

            }












        }, false)
    </script>
</body>

</html>